"use strict";(self.webpackChunkassignment=self.webpackChunkassignment||[]).push([[514],{4514:(k,g,r)=>{r.r(g),r.d(g,{TimerServiceModule:()=>U});var a=r(9808),d=r(6082),t=r(4893),C=r(7579),T=r(6063);class h extends C.x{constructor(o=1/0,e=1/0,n=T.l){super(),this._bufferSize=o,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,o),this._windowTime=Math.max(1,e)}next(o){const{isStopped:e,_buffer:n,_infiniteTimeWindow:c,_timestampProvider:l,_windowTime:m}=this;e||(n.push(o),!c&&n.push(l.now()+m)),this._trimBuffer(),super.next(o)}_subscribe(o){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(o),{_infiniteTimeWindow:n,_buffer:c}=this,l=c.slice();for(let m=0;m<l.length&&!o.closed;m+=n?1:2)o.next(l[m]);return this._checkFinalizedStatuses(o),e}_trimBuffer(){const{_bufferSize:o,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:c}=this,l=(c?1:2)*o;if(o<1/0&&l<n.length&&n.splice(0,n.length-l),!c){const m=e.now();let f=0;for(let p=1;p<n.length&&n[p]<=m;p+=2)f=p;f&&n.splice(0,f+1)}}}let u=(()=>{class i{constructor(){this.clickCount={start:0,resume:0,pause:0},this.loggerDetails=[],this.counterDetails$=new h(1),this.clickDetails$=new h(1),this.loggerDetails$=new h(1),this.counterDetails$.next(null),this.clickDetails$.next(this.clickCount),this.loggerDetails$.next(this.loggerDetails)}setData(e){switch(["PAUSE","RESUME"].includes(e.operation)&&(e.limit=this.dataObject.limit),this.dataObject=e,this.loggerDetails.push(Object.assign(Object.assign({},e),{time:new Date})),e.operation){case"START":this.clickCount.start++,this.clickDetails$.next(this.clickCount),this.onStart();break;case"PAUSE":this.clickCount.pause++,this.clickDetails$.next(this.clickCount),this.onPause();break;case"RESUME":this.clickCount.resume++,this.clickDetails$.next(this.clickCount),this.onResume();break;default:this.reset(),this.loggerDetails=[]}this.loggerDetails$.next(this.loggerDetails)}reset(){clearInterval(this.interval),this.dataObject=null,this.counterDetails$.next(null),this.clickCount.start=0,this.clickCount.resume=0,this.clickCount.pause=0,this.clickDetails$.next(this.clickCount),this.loggerDetails=[],this.loggerDetails$.next(this.loggerDetails)}onStart(){this.dataObject&&this.dataObject.limit>=0&&(this.interval=setInterval(()=>{this.counterDetails$.next(this.dataObject.limit),this.dataObject.limit&&this.dataObject.limit--,0==this.dataObject.limit&&this.counterDetails$.next(0)},1e3))}onPause(){clearInterval(this.interval)}onResume(){this.onStart()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Z=(()=>{class i{constructor(e){this.timerService=e,this.timerService.counterDetails$.asObservable().subscribe(n=>{this.counter=n})}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-component1"]],decls:5,vars:1,template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2,"Count down timer"),t.qZA(),t.TgZ(3,"h2"),t._uU(4),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Oqu(n.counter))},styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}"]}),i})();var s=r(2382),v=r(4106),S=r(7531),b=r(7423);function A(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,e.op)," at ",e.limit," ")}}let y=(()=>{class i{constructor(e){this.timerService=e,this.timerForm=new s.cw({}),this.counterLog=[],this.timerService.counterDetails$.asObservable().subscribe(n=>{this.counterDetail=n})}ngOnInit(){this.timerForm=new s.cw({limit:new s.NI(0,[s.kI.required,s.kI.min(1)]),operation:new s.NI("START")})}submitForm(){var e,n,c;let l=null===(e=this.timerForm.get("operation"))||void 0===e?void 0:e.value;this.timerService.setData(this.timerForm.value),this.counterLog.push({limit:this.counterDetail?this.counterDetail:null===(n=this.timerForm.get("limit"))||void 0===n?void 0:n.value,op:l}),null===(c=this.timerForm.get("operation"))||void 0===c||c.setValue("START"==l?"PAUSE":"PAUSE"==l?"RESUME":"PAUSE")}resetForm(){this.counterLog=[],this.timerForm.reset({limit:0,operation:"START"}),this.timerService.setData({limit:0,operation:null})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-component2"]],decls:14,vars:6,consts:[[1,"controller"],[3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","limit","matInput","","placeholder","Ex. 1000","type","number"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["mat-flat-button","","type","button",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return n.submitForm()}),t.TgZ(2,"mat-form-field",2),t.TgZ(3,"mat-label"),t._uU(4,"Enter timer limit"),t.qZA(),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"button",4),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return n.resetForm()}),t._uU(11,"Reset"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"p"),t.YNc(13,A,3,4,"li",6),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("formGroup",n.timerForm),t.xp6(6),t.Q6J("disabled",n.timerForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(9,4,n.timerForm.value.operation)," "),t.xp6(5),t.Q6J("ngForOf",n.counterLog))},directives:[s._Y,s.JL,s.sg,v.KE,v.hX,s.Fj,S.Nt,s.wV,s.JJ,s.u,b.lW,a.sg],pipes:[a.rS],styles:[".controller[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}form[_ngcontent-%COMP%]{margin:2em}"]}),i})();function x(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"titlecase"),t.ALo(3,"date"),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,e.operation)," at ",t.xi3(3,4,e.time,"M-d-Y h:mm:ss a")," ")}}let O=(()=>{class i{constructor(e){this.timerService=e,this.timerService.loggerDetails$.asObservable().subscribe(n=>{this.log=n})}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-component3"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"span"),t.TgZ(1,"p"),t.YNc(2,x,4,7,"li",0),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",n.log))},directives:[a.sg],pipes:[a.rS,a.uU],styles:[""]}),i})(),D=(()=>{class i{constructor(e){this.timerService=e,this.timerService.clickDetails$.asObservable().subscribe(n=>{this.clickCounts=n})}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-component4"]],decls:16,vars:3,template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"span"),t.TgZ(2,"h3"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5,"Start"),t.qZA(),t.qZA(),t.TgZ(6,"span"),t.TgZ(7,"h3"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10,"Pause"),t.qZA(),t.qZA(),t.TgZ(11,"span"),t.TgZ(12,"h3"),t._uU(13),t.qZA(),t.TgZ(14,"p"),t._uU(15,"Resume"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Oqu(n.clickCounts.start),t.xp6(5),t.Oqu(n.clickCounts.pause),t.xp6(5),t.Oqu(n.clickCounts.resume))},styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;height:100%}"]}),i})();const w=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-timer-service"]],decls:9,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"section"),t.TgZ(1,"div"),t._UZ(2,"app-component1"),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"app-component2"),t.qZA(),t.TgZ(5,"div"),t._UZ(6,"app-component3"),t.qZA(),t.TgZ(7,"div"),t._UZ(8,"app-component4"),t.qZA(),t.qZA())},directives:[Z,y,O,D],styles:["[_nghost-%COMP%]{height:100%;width:100%}section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;min-width:40vw;min-height:40vh;overflow-y:auto;border:1px solid;margin:10px}"]}),i})()}];let _=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[d.Bz.forChild(w)],d.Bz]}),i})();var F=r(898);let U=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[a.ez,_,F.q,s.u5,s.UX]]}),i})()}}]);